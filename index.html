<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#4a148c">
    <title>FumeTracker Pro+</title>
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>FumeTracker Pro+</h1>
            <div class="subtitle">Votre allié pour une vie sans tabac</div>
        </header>

        <div class="stats-container">
            <div class="stat-box">
                <h2>Dernière cigarette</h2>
                <div id="lastCigarette" class="stat-value">Jamais</div>
            </div>
            <div class="stat-box">
                <h2>Prochaine dans</h2>
                <div id="nextCigarette" class="stat-value">--</div>
            </div>
            <div class="stat-box">
                <h2>Aujourd'hui</h2>
                <div class="stat-value"><span id="todayCount">0</span> / <span id="dailyGoalDisplay">20</span></div>
            </div>
            <div class="stat-box">
                <h2>Économisé</h2>
                <div id="moneySaved" class="stat-value">0€</div>
            </div>
        </div>

        <div class="main-controls">
            <button id="smokeBtn" class="smoke-button">J'ai fumé</button>
            <button id="envyBtn" class="envy-button">J'ai eu une envie</button>
        </div>

        <div id="motivationMessage" class="motivation-message">
            Continuez vos efforts ! Chaque pas compte.
        </div>

        <div class="progress-container">
            <div class="progress-title">
                <h3>Progression quotidienne</h3>
                <div id="progressPercent">0%</div>
            </div>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill" style="width: 0%"></div>
            </div>
            <div class="progress-stats">
                <div>Objectif: <span id="targetCount">20</span> cigarettes</div>
                <div>Réduction: <span id="reductionPercent">0</span>%</div>
            </div>
        </div>

        <div class="settings-panel">
            <div class="settings-group">
                <h3>Paramètres de suivi</h3>
                <div class="form-row">
                    <label for="interval">Intervalle min. (min):</label> <input type="number" id="interval" value="60" min="5">
                </div>
                <div class="form-row">
                    <label for="dailyTarget">Objectif quotidien:</label>
                    <input type="number" id="dailyTarget" value="20" min="1">
                </div>
                <div class="form-row">
                    <label for="reductionTarget">Objectif de réduction (par jour):</label>
                    <input type="number" id="reductionTarget" value="0" min="0" step="0.1">
                </div>
                <div class="form-row">
                    <label for="pricePerPack">Prix du paquet (€):</label>
                    <input type="number" id="pricePerPack" value="10" min="0.1" step="0.1">
                </div>
                <div class="form-row">
                    <label for="cigarettesPerPack">Cigarettes par paquet:</label>
                    <input type="number" id="cigarettesPerPack" value="20" min="1">
                </div>
            </div>
        </div>

        <div class="history-container">
            <h3 class="history-title">Historique récent</h3>
            <div class="history-list" id="historyList">
                <div class="history-empty">Aucune activité enregistrée aujourd'hui</div>
            </div>
        </div>
    </div>

    <footer>
        FumeTracker Pro+ &copy; 2025 - Votre chemin vers une vie sans fumée
    </footer>

    <script src="script.js"></script>
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('/service-worker.js')
                    .then(registration => {
                        console.log('Service Worker enregistré avec succès:', registration);
                    })
                    .catch(error => {
                        console.log('Erreur lors de l\'enregistrement du Service Worker:', error);
                    });
            });
        }
    </script>
</body>
</html>
